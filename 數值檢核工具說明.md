# 數值模型檢核工具使用說明

## 📖 概述

數值模型檢核工具是一個專為遊戲開發者和資深玩家設計的分析工具，用於深入了解遊戲的數值平衡、進度曲線和投資回報率。

## 🎯 功能詳解

### A. 時期進度模擬

**目的**：模擬從練氣期到金仙的完整修煉歷程

**使用方法**：
1. 點擊「開始模擬」按鈕
2. 查看生成的表格數據

**輸出數據**：
- **該時期壽元**：在該時期內可修煉的年數
- **累計壽元**：從練氣期到該時期的總年數
- **該時期真實時間**：該時期對應的真實世界時間（1年=1分鐘）
- **累計真實時間**：從開始到該時期的總真實時間
- **等級升級時間**：該時期內所有等級升級所需的總時間

**關鍵發現**：
```
修煉至金仙總計需要：
- 遊戲內時間：7880 年
- 真實世界時間：約 5.47 天（131.3 小時）
- 平均每時期：656.7 年（約 10.9 小時）
```

**壽元計算公式**：
```javascript
第1時期：80 年
第2時期：80 + 200 = 280 年（累計）
第3時期：280 + 300 = 580 年（累計）
第N時期：前一時期 + N × 100 年
```

### B. 資源上限計算器

**目的**：計算在特定道心、道證和時期下的資源上限

**使用方法**：
1. 輸入道心值（0-999+）
2. 輸入道證值（0-999+）
3. 選擇目標時期（1-12）
4. 點擊「計算資源上限」

**計算公式**：
```javascript
道心加成 = 道心值 × 0.001  // 0.1% per point
道證加成 = 道證值 × 0.01   // 1% per point
最終上限 = 基礎上限 × (1 + 道心加成) × (1 + 道證加成)
```

**示例**：
```
道心 = 100，道證 = 20
道心加成 = 10%
道證加成 = 20%
綜合加成 = (1.1 × 1.2) - 1 = 32%

靈力基礎上限 = 100
靈力最終上限 = 100 × 1.1 × 1.2 = 132
```

**應用場景**：
- 規劃輪迴次數和建築投資
- 評估道心/道證的價值
- 確定資源瓶頸

### C. 建築投資回報分析

**目的**：分析各建築的投資效益，優化建造順序

**使用方法**：
1. 點擊「分析建築 ROI」按鈕
2. 查看按 ROI 排序的建築列表

**ROI 計算公式**：
```javascript
初始成本 = Σ(所有資源成本)
Lv.1 產率 = 基礎產率 × (1 + 權重)²
ROI = Lv.1 產率 / (初始成本 / 100)
```

**評級標準**：
- **優秀**（ROI ≥ 1.0）：強烈推薦優先建造
- **中等**（0.5 ≤ ROI < 1.0）：適度推薦
- **較低**（ROI < 0.5）：後期考慮

**建議策略**：
1. **早期**：優先建造 ROI 高的資源產出建築
2. **中期**：平衡產出與上限建築
3. **後期**：根據瓶頸選擇性建造

**權重影響**：
```
權重 = 0.5 的建築：
Lv.1 產率 = 基礎 × 2.25
Lv.10 產率 = 基礎 × 110.25

權重 = 1.0 的建築：
Lv.1 產率 = 基礎 × 4
Lv.10 產率 = 基礎 × 121
```

### D. 功法效益分析

**目的**：評估功法的技能點投資效益

**使用方法**：
1. 點擊「分析功法效益」按鈕
2. 查看按性價比排序的功法列表

**性價比計算**：
```javascript
// 上限類功法
性價比 = 效果數值 / 技能點消耗

// 倍率類功法
性價比 = (倍率 - 1) × 100 / 技能點消耗

// 產率類功法
性價比 = 產率增加 / 技能點消耗
```

**推薦度標準**：
- **強烈推薦**（性價比 ≥ 20）：優先學習
- **適度推薦**（5 ≤ 性價比 < 20）：根據需求學習
- **謹慎考慮**（性價比 < 5）：非必要不學

**功法類型分析**：

| 類型 | 特點 | 適用場景 |
|------|------|----------|
| 上限類 (max) | 立即見效 | 資源經常滿溢時 |
| 倍率類 (multiplier) | 後期收益高 | 產出已較高時 |
| 產率類 (rate) | 持續收益 | 早期快速發展 |

## 📊 數據解讀技巧

### 時期進度分析

**觀察要點**：
1. **時間跳躍**：注意哪些時期的時間需求大幅增加
2. **瓶頸識別**：等級升級時間過長的時期可能是瓶頸
3. **節奏把控**：評估遊戲節奏是否符合預期

**優化建議**：
- 如果某時期過長，考慮調整該時期的壽元或等級時間
- 如果總時長過短/過長，調整基礎壽元或時間倍率

### 資源上限分析

**關鍵指標**：
1. **增幅百分比**：評估輪迴系統的價值
2. **資源平衡**：確保各資源上限增長相對均衡
3. **瓶頸資源**：識別哪些資源容易成為瓶頸

**平衡建議**：
```
道心 100 + 道證 20 的效果：
- 靈力：100 → 132 (+32%)
- 金錢：1000 → 1320 (+32%)
- 技能點：20 → 26.4 (+32%)

建議：確保所有資源的增幅一致，避免某些資源過強/過弱
```

### 建築 ROI 分析

**投資策略**：
1. **高 ROI 建築**：快速回本，優先建造
2. **低成本建築**：即使 ROI 一般，也可早期建造
3. **高權重建築**：ROI 可能一般，但升級收益大

**常見誤區**：
- ❌ 只看 ROI，忽略建築前置條件
- ❌ 忽略上限類建築的長期價值
- ✅ 綜合考慮 ROI、成本、權重、前置條件

### 功法效益分析

**學習順序**：
1. **第一優先**：高性價比 + 低消耗的功法
2. **第二優先**：解鎖關鍵能力的前置功法
3. **第三優先**：針對當前瓶頸的功法

**技能點分配**：
```
假設有 20 技能點：
方案A：學習 1 個高階功法（20點）
方案B：學習 4 個中階功法（5點×4）
方案C：學習 10 個低階功法（2點×10）

建議：根據性價比分析選擇方案B或C
```

## 🔧 額外建議的檢核項目

### 已實現的額外項目

✅ **C. 建築投資回報分析**
- 幫助優化建造順序
- 識別高價值建築
- 評估建築升級收益

✅ **D. 功法效益分析**
- 最大化技能點投資
- 優化學習順序
- 識別性價比陷阱

### 未來可擴展的檢核項目

#### E. 天賦系統分析（建議）
**目的**：評估各天賦的投資價值

**功能**：
- 計算每個天賦的道心投資回報
- 比較不同天賦組合的效果
- 模擬天賦加成對整體進度的影響

**價值**：幫助玩家規劃輪迴後的天賦點分配

#### F. 進度路徑模擬（建議）
**目的**：模擬不同策略下的進度速度

**功能**：
- 比較「重建築」vs「重功法」策略
- 模擬不同建造順序的資源累積
- 計算達到特定時期的最快路徑

**價值**：為新手提供最優攻略路線

#### G. 輪迴時機分析（建議）
**目的**：計算最佳輪迴時機

**功能**：
- 評估當前建築總數對應的道心/道證收益
- 計算繼續發展 vs 立即輪迴的長期收益
- 建議最佳輪迴時期

**價值**：最大化輪迴系統的效益

#### H. 資源產出曲線（建議）
**目的**：可視化資源產出隨時間的變化

**功能**：
- 繪製各資源的產出率曲線
- 顯示建築升級對產出的影響
- 預測未來資源累積量

**價值**：直觀了解遊戲經濟系統

## 💡 使用技巧

### 開發者視角

**平衡調整流程**：
1. 使用時期進度模擬確認整體時長
2. 使用資源上限計算器驗證輪迴系統
3. 使用建築 ROI 分析平衡建築價值
4. 使用功法效益分析調整技能點消耗

**常見問題診斷**：
- 遊戲進度過快/過慢 → 調整時期壽元
- 某資源經常溢出 → 調整基礎上限或產率
- 某建築無人建造 → 檢查 ROI 和成本
- 某功法無人學習 → 檢查性價比

### 玩家視角

**攻略規劃**：
1. 查看時期進度了解遊戲總長度
2. 計算目標時期的資源需求
3. 參考建築 ROI 優化建造順序
4. 參考功法效益優化學習順序

**瓶頸突破**：
- 資源不足 → 建造對應的產出建築
- 上限不足 → 建造上限建築或學習上限功法
- 進度緩慢 → 檢查是否有高 ROI 建築未建造

## 📈 數據示例

### 完整進度示例

```
時期1（練氣期）：
- 壽元：80 年
- 真實時間：1.33 小時
- 建議：建造茅屋、採石場、林場

時期2（築基期）：
- 壽元：200 年（累計 280）
- 真實時間：3.33 小時（累計 4.67）
- 建議：建造藏書閣，開始學習功法

時期3（金丹期）：
- 壽元：300 年（累計 580）
- 真實時間：5 小時（累計 9.67）
- 建議：升級高 ROI 建築，學習上限功法

...

時期12（金仙）：
- 壽元：1200 年（累計 7880）
- 真實時間：20 小時（累計 131.3）
- 建議：全面發展，準備飛升
```

## 🎓 總結

數值模型檢核工具提供了四大核心功能和多個擴展建議，幫助：

**開發者**：
- ✅ 驗證數值平衡
- ✅ 發現設計問題
- ✅ 優化遊戲節奏

**玩家**：
- ✅ 規劃發展路線
- ✅ 優化資源分配
- ✅ 突破進度瓶頸

建議定期使用此工具進行數值檢核，確保遊戲體驗的最佳化！
