[2026-01-04 23:40] 摰峕㟲撖衣𣶹嚗朞���號 Buff 蝟餌絞
1. PlayerManager嚗𡁏鰵憓� activeBuffs ���贝蕭頩方𠪊����𦠜��栶��
2. PlayerManager嚗𡁜祕�� cleanExpiredBuffs() �芸�皜���擧� buff��
3. PlayerManager嚗𡁜祕�� getLingliBuffMultiplier() �脣���� buff �齿彍��
4. PlayerManager嚗帋耨�� consumePill() �閧��𢠃�銝寧鸌畾𦠜��頣�瘛餃� buff + 憓𧼮�靽桃����嚗剹��
5. BuildingManager嚗𡁏��券��� buff �齿彍�圈��𤤿𤩎�箄�蝞𨰜��
6. Resources.js嚗帋耨敺� LanguageManager 撘閧鍂�誯�嚗�㺿�� import嚗剹��

�𢠃�銝寧𣶹�典��游虾�剁�
- �滨鍂敺屸��𤤿𤩎�箄��� 2�㵪���� 1撟湛�60蝘𡜐�
- �峕�憓𧼮�蝮賭耨�㗇��� 1撟�
- Buff �擧�敺諹䌊�閙�敺拇迤撣貊𤩎�箇�

[2026-01-04 23:25] �㕑ˊ���蝟餌絞嚗𡁏鰵憓䂿��𦠜��嗉�隞钅𢒰�芸�
1. ������蝟餌絞嚗�10% 璈毺��Ｗ枂 2�㵪�5% 璈毺��Ｗ枂 3�㵪������＊蝷箸䲰靽桐��亥���
2. �𢠃�銝孵���矽�湛��寧��屸��𤤿𤩎��2�齿�蝥�1撟湛�憓𧼮�靽桃����1撟氬�㵪��滨蔭撌脫凒�堆�buff蝟餌絞敺�祕�橘���
3. �厰�閬𤥁死�芸�嚗𡁜��鞉��閗��滨鍂�厰��寞��舐鍂�扳㺿霈𢠃��脰��𤩺�摨艾��

[2026-01-04 23:05] 靽桀儔嚗鋴raftingPanel 霈𦠜彍雿𦦵鍂�罸𥲤隤�
靽格迤 effectDiv 霈𦠜彍�� if ��憛𠰴�摰𡁶儔雿�銁憭㚚�撘閧鍂�� ReferenceError��
撠� effectDiv 摰��蝘餉秐憭硋惜雿𦦵鍂�煺誑蝣箔��臬銁璇苷辣��憛𠰴�摮睃���

[2026-01-04 21:50] �㕑ˊ���隞钅𢒰嚗𡁻��啗矽�港號�仿＊蝷箔�撅�
1. 銝寡𠯫���嚗𡁜�撠誩�擃娍�摮埈㺿�箏葆�峕艶�脩�撘瑁矽��憛𠺪�憿舐內�典��齿䲮雿滨蔭��
2. 銝寡𠯫�齿䲮嚗𡁶宏�喳��鞉��蓥��對��渡泵���雿𨀣�蝔页��������滨��鞉𧋦嚗剹��
3. �硺號�亦�����齿䲮靽脲��典�雿滨蔭嚗ǎnfo �������

[2026-01-04 21:40] ��𧋦鞈��嚗𡁏凒�� Build ����唾�
1. index.html: �湔鰵�喃�閫垍��祇＊蝷箇� 2026-01-04 21:40:00
請強制刷新瀏覽器 (Ctrl+Shift+R) 並打開開發者工具查看 Console。  
服用蘊靈丹後應該看到時間戳變化的日誌。  
 
[2026-01-05 00:10] 術語調整：遊戲時間單位改為「祀」  
將所有顯示「年」的地方改為「祀」以區分遊戲時間與現實時間。  
修改位置：  
1. EraManager.js: 修練時間不足提示  
2. PlayerManager.js: 蘊靈丹效果描述  
3. CraftingPanel.js: 丹藥效果文字  
4. 翻譯文件: en.json (si), ja.json (祀), zh-CN.json (祀)  
  
[2026-01-05 00:05] 調試：暴露 PlayerManager 到 window  
添加 window.PlayerManager 以便在 Console 中調試。  
確認蘊靈丹功能完全正常：時間戳修改成功，修煉時間正確增加。  
 

[2026-01-05 00:45] Fix: Pill effect display and Time Unit
1. EraManager.js: Updated checkLevelUpRequirements to display 'remaining time' instead of 'total required time' when training time is insufficient. This allows the player to see the impact of Spirit Accumulation Pill (which adds cultivation time) as a reduction in remaining time.
2. zh-CN.json: Changed the translation of 'Year' (年) to 'Si' (祀) and updated the insufficient time message to 'Still need {years} Si'.


[2026-01-05 00:54] Fix: getLevelUpRequiredTime logic in EraManager
1. EraManager.js: Fixed getLevelUpRequiredTime logic to use (currentLevel - 1) as exponent, matching the level sequence index (0-based for Level 1). This ensures the returned required time matches the Cumulative Time Threshold for Level 1, aligning with verify logic in checkLevelUpRequirements.
2. Verified unit change in UI via code reviews (Year -> Si).


[2026-01-05 01:10] Fix: Log params interpolation
1. LanguageManager.js: Although the code was correct, confirmed logic for parameter replacement. It uses {0} format or {name} format depending on t() implementation. In zh-CN.json, keys use {0}, {1}. The call in BuildingManager uses {0}, {1} too.
2. BuildingManager.js: The issue 'Building {0} upgraded to Lv.{1}' implies that {0} was NOT replaced. This usually happens if the translation key in JSON uses different placeholders OR if the passed params object key doesn't match.
   Key in zh-CN: '建築 <b>{0}</b> 升級至 Lv.{1}' (needs checking JSON file)
   Code: t('建築 <b>{0}</b> 升級至 Lv.{1}', { '0': ..., '1': ... })
   If zh-TW (default), logic does replace params.
   If zh-CN, logic does replace params IF translated string has {0}, {1}.
   
   Potential cause: The 'zh-CN.json' file might NOT have the key '建築 <b>{0}</b> 升級至 Lv.{1}' exactly, or it might have different placeholders. I should check zh-CN.json for this specific key.

