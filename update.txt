[2026-01-04 23:40] å®Œæ•´å¯¦ç¾ï¼šè˜Šéˆä¸¹ Buff ç³»çµ±
1. PlayerManagerï¼šæ–°å¢ž activeBuffs ç‹€æ…‹è¿½è¹¤è‡¨æ™‚å¢žç›Šæ•ˆæžœã€‚
2. PlayerManagerï¼šå¯¦ç¾ cleanExpiredBuffs() è‡ªå‹•æ¸…ç†éŽæœŸ buffã€‚
3. PlayerManagerï¼šå¯¦ç¾ getLingliBuffMultiplier() ç²å–éˆåŠ› buff å€æ•¸ã€‚
4. PlayerManagerï¼šä¿®æ”¹ consumePill() è™•ç†è˜Šéˆä¸¹ç‰¹æ®Šæ•ˆæžœï¼ˆæ·»åŠ  buff + å¢žåŠ ä¿®ç…‰æ™‚é–“ï¼‰ã€‚
5. BuildingManagerï¼šæ‡‰ç”¨éˆåŠ› buff å€æ•¸åˆ°éˆåŠ›ç”¢å‡ºè¨ˆç®—ã€‚
6. Resources.jsï¼šä¿®å¾© LanguageManager å¼•ç”¨å•é¡Œï¼ˆæ”¹ç”¨ importï¼‰ã€‚

è˜Šéˆä¸¹ç¾åœ¨å®Œæ•´å¯ç”¨ï¼š
- æœç”¨å¾ŒéˆåŠ›ç”¢å‡ºè®Šç‚º 2å€ï¼ŒæŒçºŒ 1å¹´ï¼ˆ60ç§’ï¼‰
- åŒæ™‚å¢žåŠ ç¸½ä¿®ç…‰æ™‚é–“ 1å¹´
- Buff éŽæœŸå¾Œè‡ªå‹•æ¢å¾©æ­£å¸¸ç”¢å‡ºçŽ‡

[2026-01-04 23:25] ç…‰è£½åˆæˆç³»çµ±ï¼šæ–°å¢žçˆ†æ“Šæ©Ÿåˆ¶èˆ‡ä»‹é¢å„ªåŒ–
1. åˆæˆçˆ†æ“Šç³»çµ±ï¼š10% æ©ŸçŽ‡ç”¢å‡º 2å€ï¼Œ5% æ©ŸçŽ‡ç”¢å‡º 3å€ï¼Œçˆ†æ“Šæ™‚é¡¯ç¤ºæ–¼ä¿®ä»™æ—¥èªŒã€‚
2. è˜Šéˆä¸¹åŠŸæ•ˆèª¿æ•´ï¼šæ”¹ç‚ºã€ŒéˆåŠ›ç”¢å‡º2å€æŒçºŒ1å¹´ï¼Œå¢žåŠ ä¿®ç…‰æ™‚é–“1å¹´ã€ï¼ˆé…ç½®å·²æ›´æ–°ï¼Œbuffç³»çµ±å¾…å¯¦ç¾ï¼‰ã€‚
3. æŒ‰éˆ•è¦–è¦ºå„ªåŒ–ï¼šåˆæˆæŒ‰éˆ•èˆ‡æœç”¨æŒ‰éˆ•æ ¹æ“šå¯ç”¨æ€§æ”¹è®Šé¡è‰²èˆ‡é€æ˜Žåº¦ã€‚

[2026-01-04 23:05] ä¿®å¾©ï¼šCraftingPanel è®Šæ•¸ä½œç”¨åŸŸéŒ¯èª¤
ä¿®æ­£ effectDiv è®Šæ•¸åœ¨ if å€å¡Šå…§å®šç¾©ä½†åœ¨å¤–éƒ¨å¼•ç”¨çš„ ReferenceErrorã€‚
å°‡ effectDiv å®£å‘Šç§»è‡³å¤–å±¤ä½œç”¨åŸŸä»¥ç¢ºä¿å¯åœ¨æ¢ä»¶å€å¡Šå¤–å­˜å–ã€‚

[2026-01-04 21:50] ç…‰è£½åˆæˆä»‹é¢ï¼šé‡æ–°èª¿æ•´ä¸¹è—¥é¡¯ç¤ºä½ˆå±€
1. ä¸¹è—¥æ•ˆæžœï¼šå¾žå°å­—é«”æ–‡å­—æ”¹ç‚ºå¸¶èƒŒæ™¯è‰²çš„å¼·èª¿å€å¡Šï¼Œé¡¯ç¤ºåœ¨åŽŸé…æ–¹ä½ç½®ã€‚
2. ä¸¹è—¥é…æ–¹ï¼šç§»è‡³åˆæˆæŒ‰éˆ•ä¸‹æ–¹ï¼Œæ›´ç¬¦åˆæ“ä½œæµç¨‹ï¼ˆå…ˆçœ‹æ•ˆæžœå†çœ‹æˆæœ¬ï¼‰ã€‚
3. éžä¸¹è—¥ç‰©å“ï¼šé…æ–¹ä¿æŒåœ¨åŽŸä½ç½®ï¼ˆinfo å€åŸŸï¼‰ã€‚

[2026-01-04 21:40] ç‰ˆæœ¬è³‡è¨Šï¼šæ›´æ–° Build æ™‚é–“æˆ³è¨˜
1. index.html: æ›´æ–°å³ä¸‹è§’ç‰ˆæœ¬é¡¯ç¤ºç‚º 2026-01-04 21:40:00
2. start.html: åŒæ­¥æ›´æ–°æœ€å¾Œæ›´æ–°æ™‚é–“ã€‚
[2026-01-04 23:45] ­×´_¡GÄ­ÆF¤¦­×·Ò®É¶¡¥[¦¨  
­×¥¿ªA¥ÎÄ­ÆF¤¦«á·í«e¹Ò¬É³Ñ¾l®É¶¡¨S¦³´î¤Öªº°ÝÃD¡C  
²{¦b¦P®É­×§ï startTimestamp¡]·í«e¹Ò¬É¡^©M totalStartTimestamp¡]Á`­×·Ò®É¶¡¡^¡C  
®ÄªG¡GªA¥Î«á·í«eµ¥¯Å³Ñ¾l®É¶¡¥ß§Y´î¤Ö 1¦~¡A¥[³t¤É¯Å¶i«×¡C  
 
[2026-01-04 23:50] ­×¥¿¡GÄ­ÆF¤¦®É¶¡¼Æ­È  
­×¥¿Ä­ÆF¤¦ªº duration ©M trainingBonus ±q 60000ms §ï¬° 1000ms¡C  
¹CÀ¸®É¶¡´«ºâ¡G1¬í²{¹ê®É¶¡ = 1¦~¹CÀ¸®É¶¡¡C  
­×¥¿«á®ÄªG¡GÆF¤O²£¥X2­¿«ùÄò1¦~¡]1¬í¡^¡A­×·Ò®É¶¡´î¤Ö1¦~¡]1¬í¡^¡C  
 
[2026-01-04 23:55] ½Õ¸Õ¡GÄ­ÆF¤¦®É¶¡­×§ï  
²K¥[ console.log ½Õ¸Õ°T®§¥H½T»{®É¶¡ÂW­×§ï¬O§_¥Í®Ä¡C  
½Ð±j¨î¨ê·sÂsÄý¾¹ (Ctrl+Shift+R) ¨Ã¥´¶}¶}µoªÌ¤u¨ã¬d¬Ý Console¡C  
ªA¥ÎÄ­ÆF¤¦«áÀ³¸Ó¬Ý¨ì®É¶¡ÂWÅÜ¤Æªº¤é»x¡C  
 
[2026-01-05 00:10] ³N»y½Õ¾ã¡G¹CÀ¸®É¶¡³æ¦ì§ï¬°¡uªÁ¡v  
±N©Ò¦³Åã¥Ü¡u¦~¡vªº¦a¤è§ï¬°¡uªÁ¡v¥H°Ï¤À¹CÀ¸®É¶¡»P²{¹ê®É¶¡¡C  
­×§ï¦ì¸m¡G  
1. EraManager.js: ­×½m®É¶¡¤£¨¬´£¥Ü  
2. PlayerManager.js: Ä­ÆF¤¦®ÄªG´y­z  
3. CraftingPanel.js: ¤¦ÃÄ®ÄªG¤å¦r  
4. Â½Ä¶¤å¥ó: en.json (si), ja.json (ªÁ), zh-CN.json (ªÁ)  
  
[2026-01-05 00:05] ½Õ¸Õ¡G¼ÉÅS PlayerManager ¨ì window  
²K¥[ window.PlayerManager ¥H«K¦b Console ¤¤½Õ¸Õ¡C  
½T»{Ä­ÆF¤¦¥\¯à§¹¥þ¥¿±`¡G®É¶¡ÂW­×§ï¦¨¥\¡A­×·Ò®É¶¡¥¿½T¼W¥[¡C  
 

[2026-01-05 00:45] Fix: Pill effect display and Time Unit
1. EraManager.js: Updated checkLevelUpRequirements to display 'remaining time' instead of 'total required time' when training time is insufficient. This allows the player to see the impact of Spirit Accumulation Pill (which adds cultivation time) as a reduction in remaining time.
2. zh-CN.json: Changed the translation of 'Year' (¦~) to 'Si' (ªÁ) and updated the insufficient time message to 'Still need {years} Si'.


[2026-01-05 00:54] Fix: getLevelUpRequiredTime logic in EraManager
1. EraManager.js: Fixed getLevelUpRequiredTime logic to use (currentLevel - 1) as exponent, matching the level sequence index (0-based for Level 1). This ensures the returned required time matches the Cumulative Time Threshold for Level 1, aligning with verify logic in checkLevelUpRequirements.
2. Verified unit change in UI via code reviews (Year -> Si).


[2026-01-05 01:10] Fix: Log params interpolation
1. LanguageManager.js: Although the code was correct, confirmed logic for parameter replacement. It uses {0} format or {name} format depending on t() implementation. In zh-CN.json, keys use {0}, {1}. The call in BuildingManager uses {0}, {1} too.
2. BuildingManager.js: The issue 'Building {0} upgraded to Lv.{1}' implies that {0} was NOT replaced. This usually happens if the translation key in JSON uses different placeholders OR if the passed params object key doesn't match.
   Key in zh-CN: '«Ø¿v <b>{0}</b> ¤É¯Å¦Ü Lv.{1}' (needs checking JSON file)
   Code: t('«Ø¿v <b>{0}</b> ¤É¯Å¦Ü Lv.{1}', { '0': ..., '1': ... })
   If zh-TW (default), logic does replace params.
   If zh-CN, logic does replace params IF translated string has {0}, {1}.
   
   Potential cause: The 'zh-CN.json' file might NOT have the key '«Ø¿v <b>{0}</b> ¤É¯Å¦Ü Lv.{1}' exactly, or it might have different placeholders. I should check zh-CN.json for this specific key.

